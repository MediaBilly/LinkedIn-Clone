<div class="py-2 px-4 border-bottom d-none d-lg-block">
    <div *ngIf="chatInfo" class="d-flex flex-row bd-highlight py-1">
        <div class="bd-highlight position-relative">
            <img [src]="chatInfo.picPath" class="rounded-circle mr-1" alt="Sharon Lessman" width="40" height="40">
        </div>
        <div class="bd-highlight flex-grow-1 px-2">
            <strong>{{ chatInfo.name }}</strong>
        </div>
    </div>
</div>

<div class="position-relative">
    <div class="chat-messages p-4">

        <div *ngFor="let message of messages" [ngClass]="{'pb-4': true, 'chat-message-right':message.sender.id == loggedInUid, 'chat-message-left':message.sender.id != loggedInUid}">
            <div class="d-flex flex-row bd-highlight">
                <div class="bd-highlight">
                    <img [src]="getUserPicPath(message.sender)" class="rounded-circle mr-1" width="40" height="40">
                    <!-- <div class="text-muted small text-nowrap mt-2">{{ message.sentAt }}</div> -->
                </div>
                <div class="bd-highlight px-2">
                    <div class="flex-shrink-1 bg-light rounded py-2 px-3 mr-3">
                        <div *ngIf="message.sender.id == loggedInUid" class="fw-bold mb-1">You</div>
                        <div *ngIf="message.sender.id != loggedInUid" class="fw-bold mb-1">{{ message.sender.firstname }} {{ message.sender.lastname }}</div>
                        {{ message.text }}
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<div class="flex-grow-0 py-3 px-4 border-top">
    <div class="input-group">
        <input type="text" class="form-control" [formControl]="newMessage" (keydown.enter)="sendMessage()" placeholder="Type your message">
        <button class="btn btn-primary">Send</button>
    </div>
</div>
